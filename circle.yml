---

machine:
  java:
    version: oraclejdk8
  environment:
    TERM: dumb

checkout:
  post:
    - "if [ -e .git/shallow ]; then git fetch --unshallow; fi"
    - git fetch --tags
    - git submodule update --init --remote

dependencies:
  override:
    - ./gradlew --stacktrace --parallel client:dependencies plugins:dependencies

test:
  override:
    - ./gradlew --stacktrace --parallel test
